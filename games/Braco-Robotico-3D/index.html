<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simula√ß√£o de Bra√ßo Rob√≥tico 3D Avan√ßado</title>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.min.js"></script>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Simula√ß√£o de Bra√ßo Rob√≥tico 3D Avan√ßado</h1>
            <p class="subtitle">Controle realista com movimentos de m√£o e capacidade de pegar objetos</p>
        </header>
        <!-- Adicionar ap√≥s o header, antes dos pain√©is existentes -->
<div class="panel missions-panel">
    <h2 class="panel-title"><i class="icon">üéØ</i> Miss√µes Dispon√≠veis</h2>
    
    <div class="missions-grid">
        <div class="mission-card" onclick="startMission('cleanup')">
            <h4>üå≤ Limpeza da Floresta</h4>
            <p>Colete todos os objetos de lixo e coloque no cesto marrom</p>
            <div class="mission-stats">
                <span>‚è±Ô∏è 150s</span>
                <span>üéØ 8 objetos</span>
                <span>‚≠ê 3 estrelas</span>
            </div>
        </div>
        
        <div class="mission-card" onclick="startMission('wordSort')">
            <h4>üìù Classifica√ß√£o de Palavras</h4>
            <p>Separe as palavras nos cestos corretos por classifica√ß√£o t√¥nica</p>
            <div class="mission-stats">
                <span>‚è±Ô∏è 250s</span>
                <span>üéØ 9 palavras</span>
                <span>‚≠ê 3 estrelas</span>
            </div>
        </div>
        
        <div class="mission-card" onclick="startMission('mathChallenge')">
            <h4>üî¢ Desafio Matem√°tico</h4>
            <p>Colete n√∫meros que somem exatamente o valor alvo</p>
            <div class="mission-stats">
                <span>‚è±Ô∏è 100s</span>
                <span>üéØ Soma vari√°vel</span>
                <span>‚≠ê 3 estrelas</span>
            </div>
        </div>
    </div>
</div>
        <div class="panel">
            <h2 class="panel-title"><i class="icon">üì∑</i> Detec√ß√£o de M√£os</h2>
            
            <div class="camera-container">
                <video id="camera" width="640" height="480" autoplay playsinline></video>
                <canvas id="outputCanvas" width="640" height="480"></canvas>
            </div>            
            <div class="status-container">
                <div class="status-card">
                    <div class="status-label">Base (Rota√ß√£o)</div>
                    <div class="status-value" id="baseValue">0¬∞</div>
                </div>
                <div class="status-card">
                    <div class="status-label">Ombro</div>
                    <div class="status-value" id="shoulderValue">90¬∞</div>
                </div>
                <div class="status-card">
                    <div class="status-label">Cotovelo</div>
                    <div class="status-value" id="elbowValue">90¬∞</div>
                </div>
                <div class="status-card">
                    <div class="status-label">Garra</div>
                    <div class="status-value" id="gripperValue">Aberta</div>
                    <div class="gripper-status">
                        <div class="gripper-indicator gripper-open" id="gripperIndicator"></div>
                        <span id="gripperStatusText">Aberta</span>
                    </div>
                </div>
            </div>
            
            <div class="instructions">
                <h3>Instru√ß√µes de Controle:</h3>
                <ul>
                    <li>Mova a m√£o horizontalmente para controlar a rota√ß√£o da base</li>
                    <li>Mova a m√£o verticalmente para controlar o ombro</li>
                    <li>Aproxime/afaste a m√£o para controlar o cotovelo</li>
                    <li>Junte polegar e indicador para fechar a garra e pegar objetos</li>
                    <li>Use os bot√µes de c√¢mera para mudar o ponto de vista</li>
                    <li>Pressione 'R' para resetar a posi√ß√£o do bra√ßo</li>
                    <li>Pressione 'G' para gerar novos objetos</li>
                </ul>
            </div>
        </div>
        
        <div class="panel">
            <h2 class="panel-title"><i class="icon">ü§ñ</i> Simula√ß√£o 3D Realista</h2>
            
            <div class="three-container">
                <canvas id="three-canvas"></canvas>
                <div class="object-counter">Objetos: <span id="objectCount">0</span></div>
                <div class="camera-controls">
                    <div class="camera-btn" id="cameraFront">üëÅÔ∏è</div>
                    <div class="camera-btn" id="cameraTop">‚¨ÜÔ∏è</div>
                    <div class="camera-btn" id="cameraSide">‚ÜîÔ∏è</div>
                    <div class="camera-btn" id="cameraReset">üîÑ</div>
                </div>
            </div>
            
            <div class="range-container">
                <label for="cameraDistance">Dist√¢ncia da C√¢mera</label>
                <input type="range" min="10" max="30" value="15" class="range-slider" id="cameraDistance">
                <div class="joint-info">
                    <span>Zoom +</span>
                    <span>Zoom -</span>
                </div>
            </div>
            
            <div class="connection-panel">
                <div class="btn-group">
                    <button id="invertBtn">Inverter Horizontal</button>
                    <button id="resetBtn">Resetar Bra√ßo</button>
                </div>
                
                <div class="invert-status">
                    <div class="invert-indicator" id="invertIndicator"></div>
                    <span id="invertStatusText">Invers√£o Desativada</span>
                </div>
            </div>
        </div>
        
        <div class="controls-info">
            <div class="control-card">
                <h3><i class="icon">üîÑ</i> Movimentos do Bra√ßo</h3>
                <p>O bra√ßo rob√≥tico possui 4 graus de liberdade: rota√ß√£o da base, eleva√ß√£o do ombro, flex√£o do cotovelo e abertura da garra. Todos os movimentos s√£o controlados pelos gestos da sua m√£o.</p>
            </div>
            <div class="control-card">
                <h3><i class="icon">üéÆ</i> Intera√ß√£o com Objetos</h3>
                <p>Quando a garra est√° fechada e pr√≥xima de um objeto, ela automaticamente o captura. Para soltar, basta abrir a garra. Objetos podem ser reposicionados com 'G'.</p>
            </div>
        </div>
        
        <footer>
            <p>Sistema de Controle de Bra√ßo Rob√≥tico 3D | Design Realista | MediaPipe + Three.js</p>
        </footer>
    </div>

<script src="js/missions.js"></script>
<script src="js/audio.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/threeSetup.js"></script>
    <script src="js/robotArm.js"></script>
    <script src="js/objects.js"></script>
    <script src="js/handProcessing.js"></script>
    <script src="js/controls.js"></script>
    <script src="js/mediapipe.js"></script>
    <script src="js/main.js"></script>
</body>
</html>